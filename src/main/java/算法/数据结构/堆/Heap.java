package 算法.数据结构.堆;

public class Heap {

	private Node[] heapArray;
	
	private int maxSize;
	
	private int currentSize;
	
	public Heap(int mx) {
		maxSize=mx;
		currentSize=0;
		heapArray=new Node[maxSize];
	}
	
	public boolean isEmpty() {
		return currentSize==0;
	}
	
	public boolean insert (int key) {
		if(currentSize==maxSize) {
			return false;
		}
		Node newNode=new Node(key);
		heapArray[currentSize]=newNode;
		trickleUp(currentSize++);
		return true;
	}

	private void trickleUp(int index) {
		int parent=(index-1)/2;
		Node bottom=heapArray[index];
		while(index>0 && heapArray[parent].getKey()<bottom.getKey()) {
			heapArray[index]=heapArray[parent];
			index=parent;
			parent=(parent-1)/2;
		}
		heapArray[index]=bottom;
	}
}
